---
created: 2024-07-25 20:19
aliases:
  - Anonymous Types and Methods
tags:
  - LearningIT
  - seedðŸŒ±
---

link: [[CSharp]]

# Anonymous Types and Methods

## Overview

Anonymous types and methods are useful features in C# that enable developers to create types and methods without explicitly defining them. These features help simplify code and make it more flexible, especially for scenarios involving [[LINQ]] queries, event handling, and temporary data structures.

## Anonymous Types

Anonymous types provide a convenient way to [[Encapsulation|Encapsulate]] a set of read-only properties into a single object without having to explicitly define a class. They are typically used for storing temporary data and are especially useful in LINQ queries.

### Creating Anonymous Types

> [!example]- Anonymous Types Example
> ```csharp
> var person = new { Name = "John", Age = 30 };
> Console.WriteLine($"Name: {person.Name}, Age: {person.Age}");
> ```

> [!important]- Key Points
> - Anonymous types are immutable.
> - Properties of anonymous types are read-only.
> - The type name is generated by the compiler and is not accessible in the code.

### Using Anonymous Types in LINQ

> [!example]- LINQ Example
> ```csharp
> var people = new[]
> {
>     new { Name = "John", Age = 30 },
>     new { Name = "Jane", Age = 25 }
> };
> 
> var youngPeople = from person in people
>                   where person.Age < 30
>                   select person;
> 
> foreach (var person in youngPeople)
> {
>     Console.WriteLine($"Name: {person.Name}, Age: {person.Age}");
> }
> ```

## Anonymous Methods

Anonymous methods are a way to define inline methods without having to declare a separate method. They can be used anywhere a delegate is expected and are often used for event handling or short pieces of code that do not require a full method.

### Declaring Anonymous Methods

> [!example]- Anonymous Method Example
> ```csharp
> // Declare a delegate
> public delegate void MyDelegate(string message);
> 
> // Use an anonymous method
> MyDelegate del = delegate(string message)
> {
>     Console.WriteLine(message);
> };
> 
> del("Hello from anonymous method!");
> ```

### Using Anonymous Methods in Event Handling

> [!example]- Event Handling Example
> ```csharp
> public class Button
> {
>     public event EventHandler Click;
>     
>     public void OnClick()
>     {
>         if (Click != null)
>         {
>             Click(this, EventArgs.Empty);
>         }
>     }
> }
> 
> public class Program
> {
>     public static void Main()
>     {
>         Button button = new Button();
>         
>         // Subscribe to the Click event using an anonymous method
>         button.Click += delegate(object sender, EventArgs e)
>         {
>             Console.WriteLine("Button clicked!");
>         };
>         
>         button.OnClick();
>     }
> }
> ```

## Lambda Expressions

Lambda expressions provide a more concise syntax for anonymous methods and are often used in [[LINQ]] queries and event handling.

> [!example]- Lambda Expression Example
> ```csharp
> // Declare a delegate
> public delegate int MyDelegate(int x, int y);
> 
> // Use a lambda expression
> MyDelegate add = (x, y) => x + y;
> Console.WriteLine(add(3, 4)); // Output: 7
> ```

## Summary

Anonymous types and methods in C# allow for flexible, concise code. Anonymous types are useful for temporary data structures, especially in LINQ queries. Anonymous methods and lambda expressions simplify inline method definitions and are frequently used in event handling and delegate scenarios. Understanding these features can significantly enhance your C# programming skills.
